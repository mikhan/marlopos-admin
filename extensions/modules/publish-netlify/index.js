import{resolveComponent as e,openBlock as t,createElementBlock as i,createVNode as a,withCtx as l,createTextVNode as s,toDisplayString as n,createBlock as d,renderSlot as o,createCommentVNode as r,pushScopeId as u,popScopeId as c,createElementVNode as p,Fragment as y}from"vue";var b=[],h=[];function v(e,t){if(e&&"undefined"!=typeof document){var i,a=!0===t.prepend?"prepend":"append",l=!0===t.singleTag,s="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(l){var n=b.indexOf(s);-1===n&&(n=b.push(s)-1,h[n]={}),i=h[n]&&h[n][a]?h[n][a]:h[n][a]=d()}else i=d();65279===e.charCodeAt(0)&&(e=e.substring(1)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(document.createTextNode(e))}function d(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var i=Object.keys(t.attributes),l=0;l<i.length;l++)e.setAttribute(i[l],t.attributes[i[l]]);var n="prepend"===a?"afterbegin":"beforeend";return s.insertAdjacentElement(n,e),e}}v("\ndiv.container[data-v-883bcbbf] {\r\n  max-width: 500px;\r\n  margin: 25px auto;\r\n  text-align: center;\n}\r\n",{});var f=(e,t)=>{const i=e.__vccOpts||e;for(const[e,a]of t)i[e]=a;return i};const g={props:{title:{type:String,required:!0},subtitle:String,icon:{type:String,default:"info"},type:{type:String,default:"warning"}}},m=e=>(u("data-v-883bcbbf"),e=e(),c(),e),_={class:"container"},k=m((()=>p("br",null,null,-1)));var w=f(g,[["render",function(u,c,p,y,b,h){const v=e("v-info"),f=e("v-notice");return t(),i("div",_,[a(v,{icon:p.icon,title:p.title,type:p.type},{default:l((()=>[s(n(p.subtitle),1)])),_:1},8,["icon","title","type"]),k,u.$slots.default?(t(),d(f,{key:0,type:"info"},{default:l((()=>[o(u.$slots,"default",{},void 0,!0)])),_:3})):r("v-if",!0)])}],["__scopeId","data-v-883bcbbf"],["__file","message.vue"]]);const D={action:{_nin:["login","comment"]},collection:{_nin:["directus_dashboards","directus_folders","directus_migrations","directus_panels","directus_permissions","directus_sessions","directus_settings","directus_webhooks"]}};async function x(e,t){const{data:i}=await e.post(`/publish-netlify/publish/${t}`);if(i&&i.error)throw new Error(i.error);return i&&i.deploy?i.deploy:void 0}v("\n.site-card-container[data-v-fb8d069b] {\r\n  padding: 0 15px;\n}\n.site-card[data-v-fb8d069b] {\r\n  margin: 25px auto;\r\n  box-shadow: 0 2px 3px 2px rgba(0, 0, 0, 0.1);\r\n  transition: 0.3s;\r\n  max-width: 500px !important;\n}\n.site-card[data-v-fb8d069b]:hover {\r\n  box-shadow: 0 3px 4px 3px rgba(0, 0, 0, 0.1);\n}\n.site-card-update[data-v-fb8d069b] {\r\n  padding: 5px 10px;\n}\n.site-card-update-available[data-v-fb8d069b] {\r\n  background-color: var(--warning);\r\n  color: var(--warning-alt);\n}\n.site-card-update-none[data-v-fb8d069b] {\r\n  background-color: var(--success);\r\n  color: var(--success-alt);\n}\n.site-card-update-building[data-v-fb8d069b] {\r\n  background-color: var(--blue);\r\n  color: var(--blue-alt);\n}\n.v-progress-circular[data-v-fb8d069b] {\r\n  float: right;\n}\n.site-card .v-button.warning[data-v-fb8d069b] {\r\n  --v-button-color: var(--warning-alt);\r\n  --v-button-background-color: var(--warning);\r\n  --v-button-color-hover: var(--warning-alt);\r\n  --v-button-background-color-hover: var(--warning-125);\n}\n.site-card .v-button.success[data-v-fb8d069b] {\r\n  --v-button-color: var(--success-alt);\r\n  --v-button-background-color: var(--success);\r\n  --v-button-color-hover: var(--success-alt);\r\n  --v-button-background-color-hover: var(--success-125);\n}\n.site-card-details-toggle[data-v-fb8d069b] {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  cursor: pointer;\n}\n.site-card-details-toggle-icon[data-v-fb8d069b] {\r\n  color: var(--foreground-subdued);\n}\n.v-chip.update[data-v-fb8d069b] {\r\n  --v-chip-color: var(--blue);\r\n  --v-chip-background-color: var(--blue-25);\n}\n.v-chip.create[data-v-fb8d069b] {\r\n  --v-chip-color: var(--primary);\r\n  --v-chip-background-color: var(--primary-25);\n}\n.v-chip.delete[data-v-fb8d069b] {\r\n  --v-chip-color: var(--danger);\r\n  --v-chip-background-color: var(--danger-25);\n}\r\n",{});const A={inject:["api"],props:{site:{type:Object,required:!0},publishedDeploy:{type:Object,required:!0},latestDeploy:{type:Object,required:!0},latestActivity:{type:Object,required:!0},isBuilding:{type:Boolean,required:!0},updateAvailable:{type:Boolean,required:!0},isPublishedLatest:{type:Boolean,required:!1}},data:function(){return{building:!1,publishing:!1,autoPublishUpdating:!1,display_published_deploy_details:!1,display_latest_activity_details:!1}},computed:{autoPublishEnabled:{get:function(){return this.publishedDeploy&&!this.publishedDeploy.locked},set:async function(){this.autoPublishUpdating=!0,this.autoPublishEnabled?await async function(e){const{data:t}=await e.post("/publish-netlify/lock");if(t&&t.error)throw new Error(t.error);return!(!t||!t.success)&&t.success}(this.api):await async function(e){const{data:t}=await e.post("/publish-netlify/unlock");if(t&&t.error)throw new Error(t.error);return!(!t||!t.success)&&t.success}(this.api),this.$emit("update"),this.autoPublishUpdating=!1}}},methods:{displayDate:function(e){return e?new Date(e).toLocaleString():""},displayHash:function(e){return`<span style='font-family: monospace'>${e.substring(0,4)}...${e.substring(e.length-4)}</span>`},publish:async function(){let e=this;e.isPublishing=!0,x(e.api,e.latestDeploy.id).then((function(){e.isPublishing=!1,e.$emit("update")})),e.$emit("update")},build:async function(){this.$emit("build"),await async function(e){const{data:t}=await e.post("/publish-netlify/builds");if(t&&t.error)throw new Error(t.error);return t&&t.build?t.build:void 0}(this.api),this.$emit("update")}}},P=e=>(u("data-v-fb8d069b"),e=e(),c(),e),E={class:"site-card-container"},C={key:0,class:"site-card-update site-card-update-available"},T=P((()=>p("br",null,null,-1))),S={key:1,class:"site-card-update site-card-update-none"},B={key:2,class:"site-card-update site-card-update-building"},L=P((()=>p("strong",null,"State:",-1))),U=P((()=>p("strong",null,"Last Updated:",-1))),I={style:{display:"flex","align-items":"center",gap:"10px"}},$=P((()=>p("p",null,[p("strong",null,"Auto Publishing:")],-1))),M=P((()=>p("br",null,null,-1))),q={key:0,class:"site-card-details"},j=P((()=>p("strong",null,"Published Deploy:",-1))),H={key:0,class:"published_deploy_details"},R=P((()=>p("strong",null,"ID:",-1))),O=["innerHTML"],V=P((()=>p("strong",null,"Created:",-1))),N=P((()=>p("strong",null,"Published:",-1))),z=P((()=>p("strong",null,"Branch:",-1))),G={key:2,class:"site-card-details"},J=P((()=>p("strong",null,"Last Database Update:",-1))),F={key:0,class:"latest_activity_details"},K=P((()=>p("strong",null,"Updated:",-1))),Q=P((()=>p("strong",null,"Action:",-1))),W=P((()=>p("strong",null,"User:",-1))),X=P((()=>p("br",null,null,-1)));var Y=f(A,[["render",function(o,u,c,b,h,v){const f=e("v-icon"),g=e("v-progress-circular"),m=e("v-card-title"),_=e("v-card-subtitle"),k=e("v-checkbox"),w=e("transition-expand"),D=e("v-notice"),x=e("v-chip"),A=e("v-card-text"),P=e("v-button"),Y=e("v-card-actions"),Z=e("v-card");return t(),i("div",E,[r(" Site Card "),a(Z,{class:"site-card"},{default:l((()=>[r(" Site Status Info "),!c.isBuilding&&c.updateAvailable?(t(),i("div",C,[p("p",null,[a(f,{name:"update"}),s("  Updates Available "),c.isPublishedLatest?r("v-if",!0):(t(),i(y,{key:0},[T,a(f,{name:"public"}),s("  Published Deploy is not the latest Deploy ")],64))])])):r("v-if",!0),c.isBuilding||c.updateAvailable?r("v-if",!0):(t(),i("div",S,[p("p",null,[a(f,{name:"check_circle"}),s("  Site Updated")])])),c.isBuilding?(t(),i("div",B,[p("p",null,[a(f,{name:"build"}),s("  Building"),a(g,{indeterminate:""})])])):r("v-if",!0),a(m,null,{default:l((()=>[s(n(c.site.name),1)])),_:1}),a(_,null,{default:l((()=>[s(n(c.site.url),1)])),_:1}),a(A,null,{default:l((()=>[r(" Netlify Status "),p("p",null,[L,s(" "+n(c.site.state),1)]),p("p",null,[U,s(" "+n(v.displayDate(c.site.updated_at)),1)]),p("div",I,[$,a(k,{modelValue:v.autoPublishEnabled,"onUpdate:modelValue":u[0]||(u[0]=e=>v.autoPublishEnabled=e),disabled:o.autoPublishUpdating,label:""},null,8,["modelValue","disabled"])]),M,r(" Details of Published Deploy "),c.publishedDeploy?(t(),i("div",q,[p("div",{class:"site-card-details-toggle",onClick:u[1]||(u[1]=e=>o.display_published_deploy_details=!o.display_published_deploy_details)},[p("p",null,[j,o.display_published_deploy_details?r("v-if",!0):(t(),i(y,{key:0},[s(" "+n(v.displayDate(c.publishedDeploy.created_at)),1)],64))]),a(f,{class:"site-card-details-toggle-icon",name:o.display_published_deploy_details?"expand_less":"expand_more"},null,8,["name"])]),a(w,null,{default:l((()=>[o.display_published_deploy_details?(t(),i("ul",H,[p("li",null,[R,s(),p("span",{innerHTML:v.displayHash(c.publishedDeploy.id)},null,8,O)]),p("li",null,[V,s(" "+n(v.displayDate(c.publishedDeploy.created_at)),1)]),p("li",null,[N,s(" "+n(v.displayDate(c.publishedDeploy.published_at)),1)]),p("li",null,[z,s(" "+n(c.publishedDeploy.branch),1)])])):r("v-if",!0)])),_:1})])):(t(),d(D,{key:1,type:"warning",center:""},{default:l((()=>[s("Site not yet published")])),_:1})),r(" Details of Latest DB Activity "),c.latestActivity?(t(),i("div",G,[p("div",{class:"site-card-details-toggle",onClick:u[2]||(u[2]=e=>o.display_latest_activity_details=!o.display_latest_activity_details)},[p("p",null,[J,o.display_latest_activity_details?r("v-if",!0):(t(),i(y,{key:0},[s(" "+n(v.displayDate(c.latestActivity.timestamp)),1)],64))]),a(f,{class:"site-card-details-toggle-icon",name:o.display_latest_activity_details?"expand_less":"expand_more"},null,8,["name"])]),a(w,null,{default:l((()=>[o.display_latest_activity_details?(t(),i("ul",F,[p("li",null,[K,s(" "+n(v.displayDate(c.latestActivity.timestamp)),1)]),p("li",null,[Q,s("   "),"update"===c.latestActivity.action?(t(),d(x,{key:0,class:"update",small:"",label:"",disabled:""},{default:l((()=>[s("UPDATE")])),_:1})):"create"===c.latestActivity.action?(t(),d(x,{key:1,class:"create",small:"",label:"",disabled:""},{default:l((()=>[s("CREATE")])),_:1})):"delete"===c.latestActivity.action?(t(),d(x,{key:2,class:"delete",small:"",label:"",disabled:""},{default:l((()=>[s("DELETE")])),_:1})):(t(),d(x,{key:3,small:"",label:"",disabled:""},{default:l((()=>[s(n(c.latestActivity.action.toUpperCase()),1)])),_:1})),s("   "),a(x,{small:"",label:"",disabled:""},{default:l((()=>[s(n(c.latestActivity.collection)+" ",1),c.latestActivity.item?(t(),i(y,{key:0},[s("#"+n(c.latestActivity.item),1)],64)):r("v-if",!0)])),_:1})]),p("li",null,[W,s(" "+n(c.latestActivity.user.first_name)+" "+n(c.latestActivity.user.last_name),1)])])):r("v-if",!0)])),_:1})])):r("v-if",!0)])),_:1}),X,r(" General Actions "),c.isPublishedLatest?r("v-if",!0):(t(),d(Y,{key:3},{default:l((()=>[a(P,{class:"success",onClick:v.publish,disabled:c.isBuilding||o.isPublishing},{default:l((()=>[a(f,{name:"public"}),s(" Publish Latest Deploy ")])),_:1},8,["onClick","disabled"])])),_:1})),a(Y,null,{default:l((()=>[a(P,{class:"warning",onClick:v.build,disabled:c.isBuilding||o.isPublishing},{default:l((()=>[a(f,{name:"build"}),s(" Build ")])),_:1},8,["onClick","disabled"]),a(P,{href:c.site.url},{default:l((()=>[a(f,{name:"launch"}),s(" View ")])),_:1},8,["href"]),a(P,{href:c.site.admin_url,icon:""},{default:l((()=>[a(f,{name:"settings"})])),_:1},8,["href"])])),_:1})])),_:1})])}],["__scopeId","data-v-fb8d069b"],["__file","site.vue"]]);v("\ndiv.container[data-v-192945a6] {\r\n  max-width: 800px;\r\n  margin: 40px auto;\r\n  padding: 0 15px;\n}\nh2[data-v-192945a6] {\r\n  color: var(--foreground-normal-alt);\r\n  font-weight: 700;\r\n  font-size: 18px;\r\n  font-family: var(--family-sans-serif);\r\n  font-style: normal;\r\n  line-height: 24px;\n}\n.v-notice[data-v-192945a6] {\r\n  height: 36px;\r\n  min-height: 36px;\n}\n.v-chip[data-v-192945a6] {\r\n  --v-chip-color-hover: var(--v-chip-color);\r\n  --v-chip-background-color-hover: var(--v-chip-background-color);\n}\n.v-chip.success[data-v-192945a6] {\r\n  --v-chip-color: var(--success-alt);\r\n  --v-chip-background-color: var(--success);\r\n  --v-chip-color-hover: var(--success-alt);\r\n  --v-chip-background-color-hover: var(--success);\n}\r\n",{});const Z={inject:["api"],props:{site:{type:Object,required:!0},deploys:{type:Array,required:!0},publishedDeploy:{type:Object,required:!0}},data:function(){return{headers:[{text:"Deploy ID",value:"id",sortable:!1},{text:"Created",value:"created_at",width:250},{text:"State",value:"state",sortable:!1}]}},computed:{autoPublishEnabled:function(){return this.publishedDeploy&&!this.publishedDeploy.locked}},methods:{displayDate:function(e){return new Date(e).toLocaleString()},displayHash:function(e){return`<span style='font-family: monospace'>${e.substring(0,4)}...${e.substring(e.length-4)}</span>`},deployIsReady:function(e){return"ready"===e.state},deployIsError:function(e){return"error"===e.state},deployIsPublished:function(e){return this.site.published_deploy&&this.site.published_deploy.id===e.id},view:function(e){window.open(e.links.permalink,"_blank")},publish:async function(e){e.state="publishing",await x(this.api,e.id),this.$emit("update")},details:function(e){window.open(`${e.admin_url}/deploys/${e.id}`,"_blank")}}},ee=e=>(u("data-v-192945a6"),e=e(),c(),e),te={class:"container"},ie=ee((()=>p("h2",null,"Deploys",-1))),ae=["innerHTML"],le=["innerHTML"],se={key:0};const ne={__name:"dialog",props:{show:{type:Boolean,default:!1},title:String,message:String,close:{type:String,default:void 0},action:{type:String,default:void 0}},setup(i){const o=i;return(i,u)=>{const c=e("v-card-title"),p=e("v-card-text"),y=e("v-button"),b=e("v-card-actions"),h=e("v-card"),v=e("v-dialog");return t(),d(v,{modelValue:o.show,"onUpdate:modelValue":u[2]||(u[2]=e=>o.show=e),persistent:""},{default:l((()=>[a(h,null,{default:l((()=>[a(c,null,{default:l((()=>[s(n(o.title),1)])),_:1}),a(p,{innerHTML:o.message},null,8,["innerHTML"]),a(b,null,{default:l((()=>[o.close?(t(),d(y,{key:0,outlined:"",onClick:u[0]||(u[0]=e=>this.$emit("close"))},{default:l((()=>[s(n(o.close),1)])),_:1})):r("v-if",!0),o.action?(t(),d(y,{key:1,onClick:u[1]||(u[1]=e=>this.$emit("action"))},{default:l((()=>[s(n(o.action),1)])),_:1})):r("v-if",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"])}}};const de={key:0,style:{margin:"25px auto","max-width":"50px"}};var oe={id:"publish-netlify",name:"Publish",icon:"cloud_upload",routes:[{path:"",redirect:"/publish-netlify/build"},{path:"build",component:f({inject:["api"],components:{Message:w,Site:Y,Deploys:f(Z,[["render",function(o,u,c,y,b,h){const v=e("v-icon"),f=e("v-chip"),g=e("v-notice"),m=e("v-progress-circular"),_=e("v-list-item-icon"),k=e("v-list-item-content"),w=e("v-list-item"),D=e("v-list"),x=e("v-menu"),A=e("v-table");return t(),i("div",te,[ie,a(A,{headers:o.headers,items:c.deploys,sort:{by:"created_at",desc:!0}},{"item.id":l((({item:e})=>[p("span",{innerHTML:h.displayHash(e.id)},null,8,ae)])),"item.created_at":l((({item:e})=>[p("span",{innerHTML:h.displayDate(e.created_at)},null,8,le)])),"item.state":l((({item:e})=>[h.deployIsPublished(e)?(t(),d(f,{key:0,class:"success"},{default:l((()=>[a(v,{name:"public"}),s(" Published "),h.autoPublishEnabled?r("v-if",!0):(t(),i("span",se,[s(" "),a(v,{name:"lock"})]))])),_:1})):h.deployIsReady(e)?(t(),d(g,{key:1,type:"success"},{default:l((()=>[s(" Ready ")])),_:1})):h.deployIsError(e)?(t(),d(g,{key:2,type:"danger"},{default:l((()=>[s(" Error ")])),_:1})):(t(),d(g,{key:3,icon:"build",type:"warning"},{default:l((()=>[s(n(e.state.charAt(0).toUpperCase()+e.state.slice(1)),1)])),_:2},1024))])),"item-append":l((({item:e})=>[h.deployIsReady(e)||h.deployIsError(e)?(t(),d(x,{key:1,placement:"left-start","show-arrow":""},{activator:l((({toggle:e})=>[a(v,{name:"more_horiz",clickable:"",onClick:e},null,8,["onClick"])])),default:l((()=>[a(D,null,{default:l((()=>[h.deployIsReady(e)?(t(),d(w,{key:0,onClick:t=>h.view(e),clickable:""},{default:l((()=>[a(_,null,{default:l((()=>[a(v,{name:"launch",outline:""})])),_:1}),a(k,null,{default:l((()=>[s(" View ")])),_:1})])),_:2},1032,["onClick"])):r("v-if",!0),h.deployIsReady(e)&&!h.deployIsPublished(e)?(t(),d(w,{key:1,onClick:t=>h.publish(e),clickable:""},{default:l((()=>[a(_,null,{default:l((()=>[a(v,{name:"public",outline:""})])),_:1}),a(k,null,{default:l((()=>[s(" Publish ")])),_:1})])),_:2},1032,["onClick"])):r("v-if",!0),a(w,{onClick:t=>h.details(e),clickable:""},{default:l((()=>[a(_,null,{default:l((()=>[a(v,{name:"info",outline:""})])),_:1}),a(k,null,{default:l((()=>[s(" Deploy Details ")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)):(t(),d(m,{key:0,indeterminate:""}))])),_:2},1032,["headers","items"])])}],["__scopeId","data-v-192945a6"],["__file","deploys.vue"]]),Dialog:f(ne,[["__file","dialog.vue"]])},data:function(){return{loading:!0,setupTitle:void 0,setupMessage:void 0,site:void 0,deploys:void 0,latestActivity:void 0,updateTimeout:void 0,buildRequested:void 0,dialog:void 0}},computed:{publishedDeploy:function(){return this.site?this.site.published_deploy:void 0},latestDeploy:function(){if(this.deploys&&this.deploys.length>0)for(let e=0;e<this.deploys.length;e++)if("ready"===this.deploys[e].state)return this.deploys[e]},isPublishedLatest:function(){return!(!this.publishedDeploy||!this.latestDeploy)&&this.publishedDeploy.id===this.latestDeploy.id},isBuilding:function(){if(this.deploys)for(let e=0;e<this.deploys.length;e++)if(!["ready","error"].includes(this.deploys[e].state))return this.buildRequested=!1,!0;return this.buildRequested},updateAvailable:function(){return!(this.latestActivity&&this.latestActivity.timestamp&&this.publishedDeploy&&this.publishedDeploy.created_at)||new Date(this.latestActivity.timestamp)>new Date(this.publishedDeploy.created_at)}},methods:{update:async function(){this.updateTimeout&&clearTimeout(this.updateTimeout);try{if(this.site=await async function(e){const{data:t}=await e.get("/publish-netlify/site");if(t&&t.error)throw new Error(t.error);return t&&t.site?t.site:void 0}(this.api),!this.site)throw new Error("The site could not be retrieved via Netlify API")}catch(e){return this.displayError("Could not get Netlify site",e)}try{this.deploys=await async function(e){const{data:t}=await e.get("/publish-netlify/deploys");if(t&&t.error)throw new Error(t.error);return t&&t.deploys?t.deploys:[]}(this.api)}catch(e){return this.displayError("Could not get Netlify site deploys",e)}try{this.latestActivity=await async function(e){let t=JSON.stringify(D);const{data:i}=await e.get(`/activity?filter=${t}&sort=-timestamp&limit=1&fields=*.*`);return i&&i.data&&i.data.length>0?i.data[0]:void 0}(this.api)}catch(e){return this.displayError("Could not get Directus activity",e)}this.updateTimeout=setTimeout(this.update,this.isBuilding?2500:15e3),this.loading=!1,this.setupTitle=void 0,this.setupMessage=void 0},displayError:function(e,t){this.dialog=void 0,this.loading=!1,this.setupTitle=e,this.setupMessage=t}},mounted:async function(){this.loading=!0,await this.update()},beforeUnmount:function(){this.updateTimeout&&clearTimeout(this.updateTimeout)}},[["render",function(o,u,c,p,y,b){const h=e("v-icon"),v=e("v-button"),f=e("v-progress-circular"),g=e("Message"),m=e("Site"),_=e("Deploys"),k=e("Dialog"),w=e("private-view");return t(),d(w,{title:"Build Site"},{headline:l((()=>[s("Publish")])),"title-outer:prepend":l((()=>[a(v,{class:"header-icon",rounded:"",disabled:"",icon:"",secondary:""},{default:l((()=>[a(h,{name:"build"})])),_:1})])),default:l((()=>[o.loading?(t(),i("div",de,[a(f,{indeterminate:""})])):r("v-if",!0),!o.loading&&o.setupMessage?(t(),d(g,{key:1,icon:"settings",title:"Setup Error",subtitle:o.setupTitle},{default:l((()=>[s(n(o.setupMessage),1)])),_:1},8,["subtitle"])):r("v-if",!0),o.loading||o.setupMessage?r("v-if",!0):(t(),d(m,{key:2,onUpdate:b.update,onBuild:u[0]||(u[0]=e=>o.buildRequested=!0),site:o.site,publishedDeploy:b.publishedDeploy,latestDeploy:b.latestDeploy,latestActivity:o.latestActivity,isBuilding:b.isBuilding,updateAvailable:b.updateAvailable,isPublishedLatest:b.isPublishedLatest},null,8,["onUpdate","site","publishedDeploy","latestDeploy","latestActivity","isBuilding","updateAvailable","isPublishedLatest"])),o.loading||o.setupMessage?r("v-if",!0):(t(),d(_,{key:3,onUpdate:b.update,site:o.site,deploys:o.deploys,publishedDeploy:b.publishedDeploy},null,8,["onUpdate","site","deploys","publishedDeploy"])),a(k,{show:!!o.dialog,title:o.dialog?o.dialog.title:void 0,message:o.dialog?o.dialog.message:void 0,close:o.dialog?o.dialog.close:void 0,onClose:u[1]||(u[1]=e=>o.dialog=void 0),action:o.dialog?o.dialog.action:void 0,onAction:u[2]||(u[2]=function(){o.dialog&&o.dialog.onAction()})},null,8,["show","title","message","close","action"])])),_:1})}],["__file","build.vue"]])}],preRegisterCheck:function(e){return!0===e.role.admin_access}};export{oe as default};
